<script type="text/javascript">
    RED.nodes.registerType('kostal-can-i-use',{
        category: 'function',
        color: '#b0ca33',
        defaults: {
            devicename: {value:"", required: true},
            devicepower: {
                value:0, 
                required: true,
                validate:RED.validators.number()
            }
        },
        inputs:1,
        outputs:1,
        icon: "font-awesome/fa-plug",
        label: function() {
            let dn = this.devicename && this.devicename.length > 0 ? this.devicename : "Unknown Device";
            let dp = this.devicepower|"0";
            return  dn + " " + dp + "W" ;
        }
    });
</script>

<script type="text/html" data-template-name="kostal-can-i-use">
    <div class="form-row">
        <label for="node-input-devicename"><i class="fa fa-plug"></i> device name</label>
        <input type="text" id="node-input-devicename" placeholder="device name">
    </div>

    <div class="form-row">
        <label for="node-input-devicepower"><i class="fa fa-bolt"></i> device power (W)</label>
        <input type="text" id="node-input-devicepower" placeholder="device power">
    </div>
</script>

<script type="text/html" data-help-name="kostal-can-i-use">
    <p>A simple node that will display if a configured device can ran with the power of sun by just comparing needed power with free and available power from inverter.</p>
</script>